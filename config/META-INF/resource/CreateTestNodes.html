<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>/private/var/data/sptjcrmanager/scripts/test/CreateTestNodes.groovy.html</title>
<meta name="Generator" content="Vim/7.2">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
</head>
<body bgcolor="#000040" text="#c0c0c0"><font face="monospace">
    <font color="#90f020">&nbsp;1 </font><font color="#80a0ff">// The JCR session is injected in as the <i>session</i> variable</font><br>
    <font color="#90f020">&nbsp;2 </font><font color="#ffa500">def</font>&nbsp;<font color="#c0c0c0">root = session.getRootNode();</font><br>
    <font color="#90f020">&nbsp;3 </font><font color="#ffff60">if</font><font color="#c0c0c0">&nbsp;(&nbsp;root.hasNode(&nbsp;</font><font color="#ffa0a0">'test'</font><font color="#c0c0c0">&nbsp;)&nbsp;)&nbsp;</font><font color="#ffff60">return</font>&nbsp;<font color="#ffa0a0">false</font>;<br>
<font color="#90f020">&nbsp;4 </font><br>
<font color="#90f020">&nbsp;5 </font><font color="#ffa500">def</font><font color="#c0c0c0">&nbsp;test = root.addNode(&nbsp;</font><font color="#ffa0a0">'test'</font><font color="#c0c0c0">&nbsp;);</font><br>
<font color="#90f020">&nbsp;6 </font><font color="#c0c0c0">test.setProperty(&nbsp;</font><font color="#ffa0a0">'name'</font><font color="#c0c0c0">, </font><font color="#ffa0a0">'Test'</font><font color="#c0c0c0">&nbsp;);</font><br>
<font color="#90f020">&nbsp;7 </font><font color="#c0c0c0">test.setProperty(&nbsp;</font><font color="#ffa0a0">'description'</font><font color="#c0c0c0">, </font><font color="#ffa0a0">'Test Node'</font><font color="#c0c0c0">&nbsp;);</font><br>
<font color="#90f020">&nbsp;8 </font><br>
<font color="#90f020">&nbsp;9 </font><font color="#ffa500">def</font><font color="#c0c0c0">&nbsp;test10 = test.addNode(&nbsp;</font><font color="#ffa0a0">'test10'</font><font color="#c0c0c0">&nbsp;);</font><br>
<font color="#90f020">10 </font><font color="#ffa500">def</font><font color="c0c0c0">&nbsp;test20 = test.addNode(&nbsp;</font><font color="#ffa0a0">'test20'</font><font color="#c0c0c0">&nbsp;);</font><br>
<font color="#90f020">11 </font><br>
<font color="#90f020">12 </font><font color="#ffff60">for</font><font color="#c0c0c0">&nbsp;(&nbsp;i </font><font color="#ffa500">in</font>&nbsp;<font color="#ffa0a0">1..9</font><font color="#c0c0c0">&nbsp;)</font><br>
<font color="#90f020">13 </font><font color="#c0c0c0">{</font><br>
<font color="#90f020">14 </font><font color="#c0c0c0">&nbsp;&nbsp;test10.addNode(&nbsp;</font><font color="#ffa0a0">&quot;test1$i&quot;</font><font color="#c0c0c0">&nbsp;);</font><br>
<font color="#90f020">15 </font><font color="#c0c0c0">&nbsp;&nbsp;test20.addNode(&nbsp;</font><font color="#ffa0a0">&quot;test2$i&quot;</font><font color="#c0c0c0">&nbsp;);</font><br>
<font color="#90f020">16 </font><font color="#c0c0c0">}</font><br>
<font color="#90f020">17 </font><br>
<font color="#90f020">18 </font><font color="#c0c0c0">session.save();</font><br>
<font color="#90f020">19 </font><font color="#ffff60">return</font>&nbsp;<font color="#ffa0a0">true</font>;<br>
</font></body>
</html>
